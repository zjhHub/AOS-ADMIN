<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" 
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<!-- -->
<mapper namespace="customer">
	<select id="customerPage" parameterType="Dto" resultType="Dto">
		SELECT
			fc.id_ AS customerId,
			fc.name_ AS customerName,
			fc.idcard_,
			fc.cellphone_,
			fc.created_time_,
			fip.ip_address_
		FROM
			fc_customer fc,
			fc_ip_white_list fip
		WHERE
			fc.created_by_ = fip.id_
			
		<if test="customerName != null and customerName != ''">
			AND fc.name_ like '%${customerName}%'
		</if>
		<if test="idcard_ != null and idcard_ != ''">
			AND fc.idcard_ like '%${idcard_}%'
		</if>

	</select>

</mapper>